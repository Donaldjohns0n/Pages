# Pages Framework - Master Manifest Registry
# Central registry schema for agent coordination and context management

manifest:
  version: "1.0.0"
  created: "2025-09-24T16:33:00Z"
  framework: "Pages Master Quest Cognitive Scaffold"
  description: "Central registry for orchestrating multi-agent workflows and maintaining contextual coherence"

# Registry Configuration
registry:
  schema_version: "1.0"
  last_updated: "2025-09-24T16:33:00Z"
  
  # Core Infrastructure Paths
  paths:
    blueprint: "/docs/Pages_Blueprint.md"
    meta_log: "/meta-log.md"
    agents: "/registry/agents/"
    contexts: "/registry/contexts/"
    workflows: "/registry/workflows/"
    templates: "/registry/templates/"
    meta_tracker: "/docs/meta-organization-tracker.md"
    dimensional_checkpoints: "/registry/templates/dimensional-checkpoints.md"

  # Registry Capabilities
  capabilities:
    agent_discovery: true
    context_sync: true
    workflow_orchestration: true
    meta_logging: true
    performance_tracking: true
    dimensional_awareness: true
    meta_cross_reference: true

# Agent Registry Schema
agents:
  registered_count: 0
  schema:
    id: "string"  # Unique agent identifier
    name: "string"  # Human-readable agent name
    type: "string"  # Agent classification (e.g., 'analyzer', 'executor', 'coordinator')
    version: "string"  # Agent version
    capabilities: "array"  # List of capabilities
    interfaces:
      input_formats: "array"  # Supported input formats
      output_formats: "array"  # Supported output formats
      communication_protocols: "array"  # Communication methods
    requirements:
      dependencies: "array"  # Required dependencies
      resources: "object"  # Resource requirements (CPU, memory, etc.)
    status:
      state: "string"  # Current state (active, inactive, busy, error)
      last_heartbeat: "timestamp"
      performance_metrics: "object"
    metadata:
      created: "timestamp"
      updated: "timestamp"
      tags: "array"

# Context Registry Schema
contexts:
  active_contexts: 0
  schema:
    id: "string"  # Unique context identifier
    name: "string"  # Context name
    type: "string"  # Context type (shared, private, temporary)
    scope: "string"  # Context scope (global, workflow, agent)
    data:
      structure: "object"  # Context data structure
      content: "object"  # Actual context content
    access_control:
      permissions: "array"  # Access permissions
      allowed_agents: "array"  # Agents with access
    versioning:
      version: "string"
      history: "array"  # Version history
    metadata:
      created: "timestamp"
      updated: "timestamp"
      expires: "timestamp"  # Optional expiration
      tags: "array"

# Workflow Registry Schema
workflows:
  active_workflows: 0
  schema:
    id: "string"  # Unique workflow identifier
    name: "string"  # Workflow name
    description: "string"  # Workflow description
    steps:
      - agent_id: "string"  # Agent responsible for step
        action: "string"  # Action to perform
        inputs: "object"  # Input requirements
        outputs: "object"  # Expected outputs
        dependencies: "array"  # Dependencies on other steps
        timeout: "integer"  # Step timeout in seconds
        dimensional_checkpoints: "array"  # Pre, mid, and post checkpoints referencing tracker
        cross_reference_links: "array"  # Links to tracker and templates
    coordination:
      execution_order: "array"  # Execution sequence
      parallel_groups: "array"  # Steps that can run in parallel
      error_handling: "object"  # Error handling strategies
    state:
      status: "string"  # Workflow status
      current_step: "string"  # Currently executing step
      progress: "float"  # Completion percentage
    metadata:
      created: "timestamp"
      started: "timestamp"
      completed: "timestamp"
      tags: "array"

# System Configuration
system:
  orchestration:
    max_concurrent_workflows: 10
    default_timeout: 300  # seconds
    retry_attempts: 3
    heartbeat_interval: 30  # seconds
  
  logging:
    level: "INFO"
    meta_log_rotation: "daily"
    retention_days: 30
    performance_metrics: true
  
  sync:
    context_sync_interval: 60  # seconds
    agent_discovery_interval: 120  # seconds
    health_check_interval: 180  # seconds

# Dimensional Awareness
dimensional_awareness:
  tracker: "/docs/meta-organization-tracker.md"
  pre_interaction_prompt: "/registry/templates/dimensional-checkpoints.md#pre-interaction-dimensional-check"
  post_interaction_prompt: "/registry/templates/dimensional-checkpoints.md#post-interaction-dimensional-check"
  prompt_standard: "/registry/templates/prompt/meta-organizational-standard.md"

# Integration Endpoints
integration:
  api_version: "v1"
  endpoints:
    agent_registration: "/api/v1/agents/register"
    context_sync: "/api/v1/contexts/sync"
    workflow_submit: "/api/v1/workflows/submit"
    status_check: "/api/v1/status"
    meta_log: "/api/v1/meta-log"
  
  protocols:
    primary: "REST"
    secondary: ["WebSocket", "gRPC"]
    authentication: "token-based"

# Health and Monitoring
monitoring:
  enabled: true
  metrics:
    agent_performance: true
    workflow_efficiency: true
    context_usage: true
    system_resources: true
  
  alerts:
    error_threshold: 5  # errors per minute
    latency_threshold: 1000  # milliseconds
    resource_threshold: 80  # percentage

# Bootstrap Configuration
bootstrap:
  auto_discovery: true
  default_contexts:
    - name: "global_context"
      type: "shared"
      scope: "global"
    - name: "workflow_context"
      type: "shared"
      scope: "workflow"
  
  initial_agents: []
  startup_workflows: []

# Version and Compatibility
compatibility:
  min_framework_version: "1.0.0"
  supported_agent_versions: ["1.0.x", "1.1.x"]
  api_compatibility: "v1"

# Extensions and Plugins
extensions:
  enabled: true
  plugin_directory: "/registry/plugins/"
  auto_load: false
  allowed_types: ["agent", "context", "workflow", "integration"]

# Security Configuration
security:
  authentication_required: true
  encryption_at_rest: false
  encryption_in_transit: true
  access_logging: true
  audit_trail: true
